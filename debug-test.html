<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Test</h1>
    <div id="debug-output"></div>

    <script type="module">
        const output = document.getElementById('debug-output');

        async function testModuleLoading() {
            output.innerHTML += '<p>🔧 Testing module loading...</p>';

            try {
                // Test core utilities first
                output.innerHTML += '<p>📦 Loading error handler...</p>';
                const { safeAsync } = await import('./src/utils/error-handler.js');
                output.innerHTML += '<p>✅ Error handler loaded</p>';

                // Test medical logger
                output.innerHTML += '<p>📦 Loading medical logger...</p>';
                const { medicalLogger } = await import('./src/utils/medical-logger.js');
                output.innerHTML += '<p>✅ Medical logger loaded</p>';

                // Test app controller
                output.innerHTML += '<p>📦 Loading app controller...</p>';
                const { createApp } = await import('./src/core/app-controller.js');
                output.innerHTML += '<p>✅ App controller loaded</p>';

                // Try to create the app
                output.innerHTML += '<p>🚀 Creating application...</p>';
                const app = await createApp();
                output.innerHTML += '<p>✅ Application created successfully!</p>';

                output.innerHTML += '<h2>🎉 All tests PASSED!</h2>';

            } catch (error) {
                output.innerHTML += `<p>❌ Error: ${error.message}</p>`;
                output.innerHTML += `<p>📋 Stack: ${error.stack}</p>`;
                console.error('Debug test error:', error);
            }
        }

        // Run test when page loads
        document.addEventListener('DOMContentLoaded', testModuleLoading);
    </script>
</body>
</html>