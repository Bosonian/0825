:root{--primary-color: #00529B;--primary-hover: #003d73;--danger-color: #D4001A;--danger-hover: #a30014;--success-color: #28a745;--warning-color: #ffc107;--background-color: #f5f7fa;--container-bg: #ffffff;--text-color: #2c3e50;--text-secondary: #6c757d;--border-color: #dee2e6;--input-bg: #f8f9fa;--info-bg: #fff3cd;--info-text: #664d03;--info-border: #ffc107;--critical-bg: #f8d7da;--critical-text: #721c24;--critical-border: #f5c6cb;--driver-positive-bg: #dc3545;--driver-negative-bg: #28a745;--shadow-sm: 0 2px 4px rgba(0,0,0,.08);--shadow-md: 0 4px 12px rgba(0,0,0,.12);--shadow-lg: 0 8px 24px rgba(0,0,0,.15);--transition-fast: .2s ease;--transition-normal: .3s ease}body.dark-mode{--primary-color: #4a9eff;--primary-hover: #3a8ee6;--background-color: #0f1419;--container-bg: #1a1f2e;--text-color: #e1e8ed;--text-secondary: #8899a6;--border-color: #2f3336;--input-bg: #253341;--info-bg: #3d3415;--info-text: #ffd93d;--critical-bg: #3d1418;--critical-text: #ff6b6b}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-text-size-adjust:100%;scroll-behavior:smooth}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,sans-serif;line-height:1.6;background-color:var(--background-color);color:var(--text-color);padding-top:70px;transition:background-color var(--transition-normal),color var(--transition-normal);min-height:100vh}.app-header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-hover) 100%);color:#fff;position:fixed;top:0;left:0;right:0;z-index:1000;box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-content{display:flex;align-items:center;gap:15px}.app-header h1{font-size:1.3rem;font-weight:600;letter-spacing:-.5px}.emergency-badge{background:var(--danger-color);color:#fff;padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:700;text-transform:uppercase;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.header-controls{display:flex;align-items:center;gap:10px}#darkModeToggle,#helpButton{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:8px;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:40px;height:40px}#darkModeToggle:hover,#helpButton:hover{background:#fff3;transform:scale(1.05)}.container{max-width:800px;margin:40px auto;padding:40px;background-color:var(--container-bg);border-radius:16px;box-shadow:var(--shadow-lg);border:1px solid var(--border-color);animation:fadeIn .4s ease}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.progress-indicator{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:40px;padding:20px;background:linear-gradient(90deg,#f0f4f8,#e2e8f0);border-radius:12px}.progress-step{width:40px;height:40px;border-radius:50%;background:var(--input-bg);border:3px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;transition:all var(--transition-normal);position:relative}.progress-step.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color);transform:scale(1.1);box-shadow:0 0 0 4px #00529b1a}.progress-step.completed{background:var(--success-color);color:#fff;border-color:var(--success-color)}.progress-step.completed:after{content:"âœ“";position:absolute;font-size:1.2rem}.progress-line{width:60px;height:3px;background:var(--border-color);transition:background var(--transition-normal)}.progress-line.completed{background:var(--success-color)}h2{font-size:1.8rem;font-weight:600;color:var(--text-color);margin-bottom:20px;text-align:center}h3{font-size:1.4rem;font-weight:600;color:var(--text-color);margin-bottom:30px}.subtitle{text-align:center;color:var(--text-secondary);margin-bottom:40px;font-size:1rem}.triage-question{text-align:center;font-size:1.4rem;margin-bottom:30px;color:var(--text-color);font-weight:500}.triage-question small{display:block;margin-top:15px;font-size:.9rem;color:var(--text-secondary);font-weight:400}.triage-buttons{display:grid;grid-template-columns:1fr 1fr;gap:40px;margin-top:40px}.triage-buttons button{padding:25px;font-size:1.2rem;font-weight:600;color:#fff;border:none;border-radius:12px;cursor:pointer;transition:all var(--transition-fast);position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:.5px;box-shadow:var(--shadow-md)}.triage-buttons button:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.triage-buttons button:hover:before{width:300px;height:300px}.yes-btn{background:linear-gradient(135deg,var(--danger-color),#ff1744)}.yes-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #d4001a4d}.no-btn{background:linear-gradient(135deg,var(--success-color),#2ecc71)}.no-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a7454d}.input-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:40px;margin-bottom:35px}.input-group,.checkbox-group{padding:20px;border:2px solid var(--border-color);border-radius:12px;background-color:var(--input-bg);transition:all var(--transition-fast)}.input-group:hover,.checkbox-group:hover{border-color:var(--primary-color);box-shadow:0 0 0 3px #00529b1a}.input-group.error{border-color:var(--danger-color);background-color:#d4001a0d}label{display:block;margin-bottom:16px;font-weight:600;color:var(--text-color);font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.input-help{font-size:.8rem;color:var(--text-secondary);margin-top:8px}input[type=number],select{width:100%;padding:12px;font-size:1rem;border:2px solid transparent;border-radius:8px;background-color:var(--container-bg);color:var(--text-color);transition:all var(--transition-fast)}input[type=number]:focus,select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00529b1a}input[type=number]:invalid{border-color:var(--danger-color)}.checkbox-group{display:flex;flex-direction:column;gap:18px}.checkbox-wrapper{display:flex;align-items:center;cursor:pointer;padding:12px;border-radius:8px;transition:background var(--transition-fast)}.checkbox-wrapper:hover{background:#00529b0d}input[type=checkbox]{width:22px;height:22px;margin-right:12px;accent-color:var(--primary-color);cursor:pointer}.checkbox-label{font-weight:400;font-size:1rem;flex:1}button.primary{width:100%;padding:22px;border:none;border-radius:12px;font-size:1.1rem;font-weight:600;background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));color:#fff;cursor:pointer;transition:all var(--transition-fast);text-transform:uppercase;letter-spacing:.5px;box-shadow:var(--shadow-md);position:relative;overflow:hidden}button.primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00529b4d}button.primary:active{transform:translateY(0)}button.secondary{width:100%;padding:18px;border:2px solid var(--primary-color);border-radius:12px;background:transparent;color:var(--primary-color);font-size:1rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast);margin-top:20px}button.secondary:hover{background:var(--primary-color);color:#fff;box-shadow:var(--shadow-md)}button:disabled{background:#a0a0a0;cursor:not-allowed;opacity:.6}.loading-spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;margin-right:10px;vertical-align:middle}@keyframes spin{to{transform:rotate(360deg)}}.result-card{padding:30px;border-radius:16px;border-left:6px solid;margin-bottom:25px;animation:slideIn .4s ease;box-shadow:var(--shadow-md);position:relative;overflow:hidden}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.result-card:before{content:"";position:absolute;top:0;right:0;width:100px;height:100px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%;transform:translate(30px,-30px)}.result-card.ich{background:linear-gradient(135deg,#fbe9e7,#ffccbc);color:#b71c1c;border-left-color:var(--danger-color)}.result-card.lvo{background:linear-gradient(135deg,#e1f5fe,#b3e5fc);color:#01579b;border-left-color:var(--primary-color)}.result-card.info{background:linear-gradient(135deg,var(--info-bg) 0%,#ffe082 100%);color:var(--info-text);border-left-color:var(--info-border)}.result-card.critical{background:linear-gradient(135deg,var(--critical-bg) 0%,#f8bbd0 100%);color:var(--critical-text);border-left-color:var(--danger-color);animation:criticalPulse 2s infinite}@keyframes criticalPulse{0%,to{box-shadow:var(--shadow-md)}50%{box-shadow:0 0 20px #d4001a4d}}.result-card h3{margin-top:0;margin-bottom:20px;display:flex;align-items:center;gap:10px}.result-card h3 small{font-size:.8rem;opacity:.8;font-weight:400}.probability-display{font-size:3rem;font-weight:700;margin:30px 0;text-align:center;position:relative}.probability-meter{width:100%;height:30px;background:#0000001a;border-radius:15px;overflow:hidden;margin:20px 0;position:relative}.probability-fill{height:100%;background:linear-gradient(90deg,#4caf50,#ffc107,#f44336);transition:width 1s ease;border-radius:15px;position:relative;box-shadow:inset 0 2px 4px #0000001a}.probability-marker{position:absolute;top:-25px;transform:translate(-50%);font-size:.8rem;font-weight:700;padding:2px 8px;background:var(--text-color);color:#fff;border-radius:4px}.probability-marker:after{content:"";position:absolute;bottom:-6px;left:50%;transform:translate(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid var(--text-color)}.drivers-section{margin-top:50px;padding-top:40px;border-top:2px solid var(--border-color)}.drivers-grid{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 768px){.drivers-grid{grid-template-columns:1fr 1fr}}.drivers-panel{background:var(--input-bg);padding:25px;border-radius:12px;border:2px solid var(--border-color)}.drivers-panel h4{margin-top:0;margin-bottom:25px;color:var(--text-color);display:flex;align-items:center;gap:10px}.driver-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;color:#fff}.driver-icon.ich{background:var(--danger-color)}.driver-icon.lvo{background:var(--primary-color)}.driver-item{display:flex;align-items:center;margin-bottom:16px;padding:8px;border-radius:8px;background:var(--container-bg);transition:all var(--transition-fast)}.driver-item:hover{transform:translate(5px);box-shadow:var(--shadow-sm)}.driver-label{flex:0 0 140px;font-size:.9rem;font-weight:500;color:var(--text-secondary)}.driver-bar-container{flex:1;height:22px;background:#0000000d;border-radius:11px;overflow:hidden;position:relative}.driver-bar{height:100%;border-radius:11px;transition:width .8s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.driver-bar:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}@keyframes shimmer{to{left:100%}}.driver-bar.positive{background:linear-gradient(90deg,#ff6b6b,#ff4757)}.driver-bar.negative{background:linear-gradient(90deg,#51cf66,#2ecc71)}.driver-value{position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:.75rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.critical-alert{background:linear-gradient(135deg,var(--danger-color),#ff1744);color:#fff;padding:20px;border-radius:12px;margin-bottom:20px;animation:criticalAlert 2s infinite;box-shadow:var(--shadow-lg)}@keyframes criticalAlert{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.critical-alert h4{margin:0 0 10px;display:flex;align-items:center;gap:10px}.alert-icon{font-size:1.5rem;animation:alertBlink 1s infinite}@keyframes alertBlink{0%,to{opacity:1}50%{opacity:.5}}.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.modal.show{display:flex;align-items:center;justify-content:center}.modal-content{background-color:var(--container-bg);padding:30px;border-radius:16px;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-lg);animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid var(--border-color)}.modal-close{font-size:1.5rem;cursor:pointer;background:none;border:none;color:var(--text-secondary);transition:color var(--transition-fast)}.modal-close:hover{color:var(--danger-color)}.disclaimer{background:var(--info-bg);color:var(--info-text);padding:15px;border-radius:8px;margin:20px 0;border-left:4px solid var(--warning-color);font-size:.9rem}.disclaimer strong{display:block;margin-bottom:5px}footer{text-align:center;padding:30px 20px;color:var(--text-secondary);font-size:.9rem}.footer-links{display:flex;justify-content:center;gap:20px;margin-top:10px}.footer-links a{color:var(--primary-color);text-decoration:none;transition:color var(--transition-fast)}.footer-links a:hover{color:var(--primary-hover);text-decoration:underline}@media (max-width: 768px){.container{margin:15px;padding:20px}.triage-buttons,.input-grid{grid-template-columns:1fr}.probability-display{font-size:2.5rem}.drivers-grid{grid-template-columns:1fr}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}*:focus-visible{outline:3px solid var(--primary-color);outline-offset:2px}@media print{body{padding-top:0}.app-header{position:static;box-shadow:none}.container{box-shadow:none;border:1px solid #000}button{display:none}.result-card{page-break-inside:avoid}}.skeleton{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.tooltip{position:relative;display:inline-block;cursor:help}.tooltip .tooltiptext{visibility:hidden;width:200px;background-color:var(--text-color);color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-100px;opacity:0;transition:opacity var(--transition-fast);font-size:.85rem}.tooltip:hover .tooltiptext{visibility:visible;opacity:1}.error-message{color:var(--danger-color);font-size:.85rem;margin-top:5px;display:flex;align-items:center;gap:5px}.error-icon{font-size:1rem}
