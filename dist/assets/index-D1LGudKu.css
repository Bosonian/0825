:root{--primary-color: #0066CC;--primary-hover: #0052A3;--danger-color: #DC143C;--danger-hover: #B71C1C;--success-color: #0066CC;--warning-color: #FF6B35;--background-color: #f5f7fa;--container-bg: #ffffff;--text-color: #2c3e50;--text-secondary: #6c757d;--border-color: #dee2e6;--input-bg: #f8f9fa;--info-bg: #fff3cd;--info-text: #664d03;--info-border: #ffc107;--critical-bg: #f8d7da;--critical-text: #721c24;--critical-border: #f5c6cb;--driver-positive-bg: #dc3545;--driver-negative-bg: #28a745;--shadow-sm: 0 2px 4px rgba(0,0,0,.08);--shadow-md: 0 4px 12px rgba(0,0,0,.12);--shadow-lg: 0 8px 24px rgba(0,0,0,.15);--transition-fast: .2s ease;--transition-normal: .3s ease;--space-8: 8px;--space-12: 12px;--space-16: 16px;--space-20: 20px;--space-24: 24px;--space-32: 32px;--risk-low: #28a745;--risk-medium: #ff9800;--risk-high: #d4001a;--ring-size: 120px}body.dark-mode{--primary-color: #4A90E2;--primary-hover: #5BA0F2;--background-color: #0f1419;--container-bg: #1a1f2e;--text-color: #e1e8ed;--text-secondary: #8899a6;--border-color: #2f3336;--input-bg: #253341;--info-bg: #3d3415;--info-text: #ffd93d;--critical-bg: #3d1418;--critical-text: #ff6b6b;--risk-low: #51cf66;--risk-medium: #ffb74d;--risk-high: #ff6b6b}@media (min-width: 769px){:root{--ring-size: 144px}}@media (min-width: 481px) and (max-width: 768px){:root{--ring-size: 116px}}@media (max-width: 480px){:root{--ring-size: 100px}}@media (max-width: 360px){:root{--ring-size: 92px}}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Inter,Helvetica Neue,sans-serif;line-height:1.5;background-color:var(--background-color);color:var(--text-color);padding-top:54px;transition:background-color var(--transition-normal),color var(--transition-normal);min-height:100vh;min-height:100dvh;font-weight:400;letter-spacing:-.01em;overflow-x:hidden}#appContainer{min-height:calc(100vh - 154px);display:flex;flex-direction:column;justify-content:flex-start}.app-header{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;height:54px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-hover) 100%);color:#fff;position:fixed;top:0;left:0;right:0;z-index:1000;box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-left{display:flex;align-items:center;gap:8px;flex:0 0 auto}.header-content{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;text-align:center}.app-header h1{font-size:clamp(1.1rem,.95rem + .6vw,1.4rem);font-weight:700;letter-spacing:-.02em;margin:0}.app-subtitle{display:block;font-size:.7rem;color:#ffffffd9;font-weight:400;margin-top:-2px}#backButton,#homeButton{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:8px;transition:all var(--transition-fast);width:44px;height:44px;display:flex;align-items:center;justify-content:center;margin-right:10px}#backButton:hover,#homeButton:hover{background:#fff3;transform:scale(1.05)}.header-controls{display:flex;align-items:center;gap:10px;flex:0 0 auto}#darkModeToggle,#helpButton,#languageToggle,#researchModeToggle{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:8px;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:44px;height:44px}.header-controls button{min-width:44px;min-height:44px}#darkModeToggle:hover,#helpButton:hover{background:#fff3;transform:scale(1.05)}.container{max-width:800px;margin:var(--space-16) auto;padding:var(--space-24);background-color:var(--container-bg);border-radius:12px;box-shadow:var(--shadow-lg);border:1px solid var(--border-color);animation:fadeIn .4s ease;min-height:400px;box-sizing:border-box}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.progress-indicator{display:flex;justify-content:center;align-items:center;gap:var(--space-8);margin-bottom:var(--space-24);padding:var(--space-16);background:linear-gradient(90deg,#f0f4f8,#e2e8f0);border-radius:8px}.progress-step{width:40px;height:40px;border-radius:50%;background:var(--input-bg);border:3px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;transition:all var(--transition-normal);position:relative}.progress-step.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color);transform:scale(1.1);box-shadow:0 0 0 4px #00529b1a}.progress-step.completed{background:var(--success-color);color:#fff;border-color:var(--success-color)}.progress-step.completed:after{content:"âœ“";position:absolute;font-size:1.2rem}.progress-line{width:60px;height:3px;background:var(--border-color);transition:background var(--transition-normal)}.progress-line.completed{background:var(--success-color)}h1{font-size:2.25rem;font-weight:700;letter-spacing:-.025em;line-height:1.2}h2{font-size:clamp(1.25rem,1.1rem + 1vw,1.6rem);font-weight:650;color:var(--text-color);margin-bottom:var(--space-16);text-align:center;letter-spacing:-.02em;line-height:1.3;text-wrap:balance}h3{font-size:clamp(1.05rem,.95rem + .6vw,1.25rem);font-weight:600;color:var(--text-color);margin-bottom:var(--space-12);letter-spacing:-.01em;line-height:1.35}h4{font-size:1.125rem;font-weight:600;color:var(--text-color);margin-bottom:12px;letter-spacing:-.005em;line-height:1.4}.subtitle{text-align:center;color:var(--text-secondary);margin-bottom:40px;font-size:1.0625rem;font-weight:400;line-height:1.6}.triage-question{text-align:center;font-size:1.3125rem;margin-bottom:32px;color:var(--text-color);font-weight:500;letter-spacing:-.01em;line-height:1.45}.triage-question small{display:block;margin-top:15px;font-size:.9rem;color:var(--text-secondary);font-weight:400}.triage-buttons{display:grid;grid-template-columns:1fr 1fr;gap:40px;margin-top:40px}.triage-buttons button{padding:28px;font-size:1.125rem;font-weight:500;letter-spacing:-.01em;line-height:1.4;color:#fff;border:none;border-radius:12px;cursor:pointer;transition:all var(--transition-fast);position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:.5px;box-shadow:var(--shadow-md)}.triage-buttons button:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.triage-buttons button:hover:before{width:300px;height:300px}.yes-btn{background:linear-gradient(135deg,var(--success-color),#2ecc71)}.yes-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #28a7454d}.no-btn{background:linear-gradient(135deg,var(--danger-color),#ff1744)}.no-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #d4001a4d}.input-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:20px}.input-group,.checkbox-group{padding:16px;border:2px solid var(--border-color);border-radius:8px;background-color:var(--input-bg);transition:all var(--transition-fast)}.input-group:hover,.checkbox-group:hover{border-color:var(--primary-color);box-shadow:0 0 0 3px #00529b1a}.input-group.error{border-color:var(--danger-color);background-color:#d4001a0d}label{display:block;margin-bottom:6px;font-weight:500;color:var(--text-color);font-size:.85rem;text-transform:none;letter-spacing:-.005em;line-height:1.5}.input-help{font-size:.75rem;color:var(--text-secondary);margin-top:4px;line-height:1.5}input[type=number],select{width:100%;padding:8px 10px;font-size:.9rem;border:2px solid transparent;border-radius:6px;background-color:var(--container-bg);color:var(--text-color);transition:all var(--transition-fast)}input[type=number]:focus,select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00529b1a}.dark-mode input[type=number]:focus,.dark-mode select:focus{box-shadow:0 0 0 3px #4a9eff40,inset 0 0 0 1px var(--primary-color)}input[type=number]:invalid{border-color:var(--danger-color)}.checkbox-group{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))!important;gap:4px 6px!important;align-items:start!important;padding:12px!important}.input-with-unit{position:relative}.input-with-unit input{padding-right:60px}.input-with-unit .unit{position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:.85rem;color:var(--text-secondary);background:var(--container-bg);border-left:1px solid var(--border-color);padding:4px 8px;border-radius:6px;height:70%;display:flex;align-items:center}.checkbox-wrapper{display:flex!important;align-items:center;cursor:pointer;padding:4px 6px!important;border-radius:6px;transition:background var(--transition-fast);font-size:.8rem!important;line-height:1.2!important}.checkbox-wrapper:hover{background:#00529b0d}input[type=checkbox]{width:22px;height:22px;margin-right:12px;accent-color:var(--primary-color);cursor:pointer}.checkbox-label{font-weight:400;font-size:.8rem!important;flex:1;letter-spacing:-.005em;line-height:1.2!important}button.primary{width:100%;padding:14px 22px;border:none;border-radius:12px;font-size:1.0625rem;font-weight:500;background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));color:#fff;cursor:pointer;transition:all var(--transition-fast);text-transform:none;letter-spacing:-.005em;box-shadow:var(--shadow-md);position:relative;overflow:hidden;line-height:1.3;min-height:44px}button.primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00529b4d}button.primary:active{transform:translateY(0)}button.secondary{width:100%;padding:12px 18px;border:2px solid var(--primary-color);border-radius:12px;background:transparent;color:var(--primary-color);font-size:.9375rem;font-weight:500;letter-spacing:-.005em;cursor:pointer;transition:all var(--transition-fast);margin-top:20px;min-height:44px}button.secondary:hover{background:var(--primary-color);color:#fff;box-shadow:var(--shadow-md)}button.tertiary{padding:12px 20px;border:1px solid var(--border-color);border-radius:8px;background:var(--container-bg);color:var(--text-secondary);font-size:.875rem;font-weight:500;letter-spacing:-.005em;cursor:pointer;transition:all var(--transition-fast);box-shadow:var(--shadow-sm)}button.tertiary:hover,button.tertiary:focus{background:var(--input-bg);color:var(--text-color);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:var(--shadow-md)}button.tertiary:active{transform:translateY(0);background:var(--primary-color);color:#fff}button:disabled{background:#a0a0a0;cursor:not-allowed;opacity:.6}.loading-spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;margin-right:10px;vertical-align:middle}@keyframes spin{to{transform:rotate(360deg)}}.result-card{padding:30px;border-radius:16px;border-left:6px solid;margin-bottom:25px;animation:slideIn .4s ease;box-shadow:var(--shadow-md);position:relative;overflow:hidden}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.result-card:before{content:"";position:absolute;top:0;right:0;width:100px;height:100px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%;transform:translate(30px,-30px)}.result-card.ich{background:linear-gradient(135deg,#fbe9e7,#ffccbc);color:#b71c1c;border-left-color:var(--danger-color)}.result-card.lvo{background:linear-gradient(135deg,#e1f5fe,#b3e5fc);color:#01579b;border-left-color:var(--primary-color)}.result-card.info{background:linear-gradient(135deg,var(--info-bg) 0%,#ffe082 100%);color:var(--info-text);border-left-color:var(--info-border)}.result-card.critical{background:linear-gradient(135deg,var(--critical-bg) 0%,#f8bbd0 100%);color:var(--critical-text);border-left-color:var(--danger-color);animation:criticalPulse 2s infinite}@keyframes criticalPulse{0%,to{box-shadow:var(--shadow-md)}50%{box-shadow:0 0 20px #d4001a4d}}.result-card h3{margin-top:0;margin-bottom:20px;display:flex;align-items:center;gap:10px}.result-card h3 small{font-size:.8rem;opacity:.8;font-weight:400}.probability-display{font-size:3rem;font-weight:700;margin:30px 0;text-align:center;position:relative}.probability-meter{width:100%;height:30px;background:#0000001a;border-radius:15px;overflow:hidden;margin:20px 0;position:relative}.probability-fill{height:100%;background:linear-gradient(90deg,#4caf50,#ffc107,#f44336);transition:width 1s ease;border-radius:15px;position:relative;box-shadow:inset 0 2px 4px #0000001a}.probability-marker{position:absolute;top:-25px;transform:translate(-50%);font-size:.8rem;font-weight:700;padding:2px 8px;background:var(--text-color);color:#fff;border-radius:4px}.probability-marker:after{content:"";position:absolute;bottom:-6px;left:50%;transform:translate(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid var(--text-color)}.drivers-section{margin-top:50px;padding-top:40px;border-top:2px solid var(--border-color)}.drivers-grid{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 768px){.drivers-grid{grid-template-columns:1fr 1fr}}.drivers-panel{background:var(--input-bg);padding:25px;border-radius:12px;border:2px solid var(--border-color)}.drivers-panel h4{margin-top:0;margin-bottom:25px;color:var(--text-color);display:flex;align-items:center;gap:10px}.driver-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;color:#fff}.driver-icon.ich{background:var(--danger-color)}.driver-icon.lvo{background:var(--primary-color)}.driver-item{display:flex;align-items:center;margin-bottom:16px;padding:8px;border-radius:8px;background:var(--container-bg);transition:all var(--transition-fast)}.driver-item:hover{transform:translate(5px);box-shadow:var(--shadow-sm)}.driver-label{flex:0 0 140px;font-size:.9rem;font-weight:500;color:var(--text-secondary)}.driver-bar-container{flex:1;height:22px;background:#0000000d;border-radius:11px;overflow:hidden;position:relative}.driver-bar{height:100%;border-radius:11px;transition:width .8s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.driver-bar:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}@keyframes shimmer{to{left:100%}}.driver-bar.positive{background:linear-gradient(90deg,#ff6b6b,#ff4757)}.driver-bar.negative{background:linear-gradient(90deg,#51cf66,#2ecc71)}.risk-results-grid{display:grid;grid-template-columns:1fr;gap:16px;margin:20px 0}@media (min-width: 768px){.risk-results-grid{grid-template-columns:1fr 1fr;gap:30px}}.enhanced-risk-card{background:var(--card-bg);border-radius:12px;padding:20px;border:2px solid var(--border-color);transition:all var(--transition-medium);position:relative;overflow:visible;display:flex;flex-direction:column}.enhanced-risk-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--border-color);transition:all var(--transition-medium)}.enhanced-risk-card.critical:before{background:linear-gradient(90deg,var(--danger-color),#ff1744);animation:pulse-glow 2s infinite}.enhanced-risk-card.high:before{background:linear-gradient(90deg,var(--warning-color),#ff9800)}.enhanced-risk-card.normal:before{background:linear-gradient(90deg,var(--success-color),#4caf50)}.risk-header{display:flex;align-items:center;gap:12px;margin-bottom:16px;min-height:64px}.risk-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;background:linear-gradient(135deg,var(--primary-light),var(--primary-color));color:#fff;box-shadow:var(--shadow-sm)}.enhanced-risk-card.ich .risk-icon{background:linear-gradient(135deg,#ff6b6b,var(--danger-color))}.enhanced-risk-card.lvo .risk-icon{background:linear-gradient(135deg,#4dabf7,var(--primary-color))}.risk-title h3{margin:0 0 4px;font-size:clamp(1.05rem,.95rem + .6vw,1.25rem);color:var(--text-primary)}.risk-module{font-size:clamp(.78rem,.74rem + .3vw,.9rem);color:var(--text-secondary);font-weight:500}.risk-probability{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;padding:20px;overflow:visible;flex:1}.circles-container{display:flex;flex-direction:column;align-items:center;gap:16px;overflow:visible}.rings-row{display:flex;justify-content:center;align-items:center;gap:40px;flex-wrap:wrap;overflow:visible;width:auto;max-width:100%}.circle-item{display:flex;flex-direction:column;align-items:center;gap:clamp(8px,2vw,16px);overflow:visible;flex:0 0 auto;width:auto;min-width:var(--ring-size)}.circle-label{font-size:clamp(.75rem,.8rem + .3vw,.95rem);font-weight:600;color:var(--text-secondary);text-align:center;line-height:1.2;white-space:nowrap}.volume-circle{position:relative;display:flex;align-items:center;justify-content:center;overflow:visible;width:var(--ring-size);height:var(--ring-size)}.volume-number{position:absolute;font-size:2rem;font-weight:700;text-align:center;color:var(--text-primary);z-index:10}.volume-canvas{width:var(--ring-size);height:var(--ring-size);border-radius:50%;background:transparent;position:absolute;top:0;left:0;display:block}.risk-assessment{display:flex;flex-direction:column;align-items:center;gap:8px;text-align:center}.mortality-assessment{font-size:.85rem;color:var(--text-secondary);font-weight:500}.probability-circle{position:relative;display:flex;align-items:center;justify-content:center;overflow:visible;width:var(--ring-size);height:var(--ring-size);flex-shrink:0}.probability-canvas{width:var(--ring-size);height:var(--ring-size);display:block}.probability-number{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(1.4rem,4vw,2.2rem);font-weight:700;text-align:center;color:var(--text-primary);font-variant-numeric:tabular-nums;line-height:1;white-space:nowrap}.probability-number span{font-size:clamp(.8rem,2.5vw,1.2rem);font-weight:500;color:var(--text-secondary);transform:translateY(-2px);display:inline-block}.probability-ring{transform:rotate(-90deg);overflow:visible}.probability-ring circle:first-child{stroke:var(--text-secondary);opacity:.4}.probability-progress{transition:stroke-dashoffset 1s ease-in-out,stroke .5s ease-in-out,stroke-width .3s ease-in-out;opacity:1;stroke:var(--primary-color);stroke-width:8}.enhanced-risk-card.critical .probability-progress{stroke:var(--danger-color);stroke-width:10}.enhanced-risk-card.high .probability-progress{stroke:var(--warning-color);stroke-width:10}.enhanced-risk-card.normal .probability-progress{stroke:var(--success-color);stroke-width:8}.risk-assessment{flex:1}.risk-level{font-size:1.1rem;font-weight:600;padding:8px 16px;border-radius:8px;text-transform:uppercase;letter-spacing:.5px;margin-bottom:12px;display:inline-block}.risk-level.critical{background:var(--danger-light);color:var(--danger-color);border:1px solid var(--danger-color);animation:pulse-glow 2s infinite}.risk-level.high{background:var(--warning-light);color:var(--warning-color);border:1px solid var(--warning-color)}.risk-level.normal{background:var(--success-light);color:var(--success-color);border:1px solid var(--success-color)}.risk-confidence{font-size:.9rem;color:var(--text-secondary);font-weight:500}.not-possible-content{padding:20px 0;text-align:center;color:var(--text-secondary)}.not-possible-content p{margin:8px 0}.enhanced-drivers-section{margin:24px 0}.drivers-split-view{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}.drivers-column{background:var(--input-bg);border-radius:8px;padding:12px;border:1px solid var(--border-color)}.positive-column{border-left:3px solid var(--danger-color)}.negative-column{border-left:3px solid var(--success-color)}.column-header{display:flex;align-items:center;gap:6px;margin-bottom:10px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.column-icon{font-size:1rem;font-weight:700}.positive-column .column-icon{color:var(--danger-color)}.negative-column .column-icon{color:var(--success-color)}.column-title{font-size:.75rem;font-weight:600;color:var(--text-color);text-transform:uppercase;letter-spacing:.5px}.compact-drivers{display:flex;flex-direction:column;gap:8px}.compact-driver-item{display:flex;flex-direction:column;gap:4px}.compact-driver-label{font-size:.7rem;color:var(--text-color);font-weight:500;line-height:1.2}.compact-driver-bar{height:18px;border-radius:9px;position:relative;min-width:40px;display:flex;align-items:center;justify-content:flex-end;padding-right:6px;transition:all .3s ease}.compact-driver-bar.positive{background:linear-gradient(90deg,var(--danger-color),#ff4757)}.compact-driver-bar.negative{background:linear-gradient(90deg,var(--success-color),#2ecc71)}.compact-driver-value{font-size:.65rem;color:#fff;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.3)}.no-factors{font-size:.7rem;color:var(--text-secondary);font-style:italic;text-align:center;padding:12px 0}.drivers-header{text-align:center;margin-bottom:20px}.driver-header-icon{font-size:1.5rem;margin-right:8px}.drivers-subtitle{color:var(--text-secondary);font-size:.95rem;margin:8px 0 0}.enhanced-drivers-grid{display:grid;grid-template-columns:1fr;gap:24px}@media (min-width: 768px){.enhanced-drivers-grid{grid-template-columns:1fr 1fr;gap:30px}}.enhanced-drivers-panel{background:var(--card-bg);border-radius:12px;padding:18px;border:2px solid var(--border-color);transition:all var(--transition-medium)}.panel-header{display:flex;align-items:center;gap:16px;margin-bottom:20px}.panel-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;color:#fff;box-shadow:var(--shadow-sm)}.panel-icon.ich{background:linear-gradient(135deg,#ff6b6b,var(--danger-color))}.panel-icon.lvo{background:linear-gradient(135deg,#4dabf7,var(--primary-color))}.panel-title h4{margin:0 0 4px;font-size:1.1rem;color:var(--text-primary)}.panel-subtitle{font-size:.85rem;color:var(--text-secondary);font-weight:500}.drivers-chart{display:flex;flex-direction:column;gap:12px}.enhanced-driver-item{background:var(--container-bg);border-radius:8px;padding:12px;border:1px solid var(--border-color);transition:all var(--transition-fast)}.enhanced-driver-item:hover{background:var(--primary-light);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:var(--shadow-sm)}.driver-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.driver-label{font-size:.9rem;font-weight:500;color:var(--text-primary);flex:1}.driver-impact{font-size:.85rem;font-weight:600;padding:4px 8px;border-radius:4px;display:flex;align-items:center;gap:4px}.driver-impact.positive{background:var(--danger-light);color:var(--danger-color)}.driver-impact.negative{background:var(--success-light);color:var(--success-color)}.driver-bar-wrapper{width:100%}.driver-bar-track{width:100%;height:6px;background:var(--border-color);border-radius:3px;overflow:hidden;position:relative}.driver-bar{height:100%;border-radius:3px;position:relative;transition:width 1s ease-out}.driver-bar.positive{background:linear-gradient(90deg,var(--danger-color),#ff4757)}.driver-bar.negative{background:linear-gradient(90deg,var(--success-color),#2ecc71)}.bar-glow{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:slide-glow 2s infinite}.drivers-summary{margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)}.summary-stats{display:flex;justify-content:space-around;gap:16px}.stat-item{display:flex;flex-direction:column;text-align:center;gap:4px}.stat-label{font-size:.8rem;color:var(--text-secondary)}.stat-value{font-size:1.2rem;font-weight:600}.stat-value.positive{color:var(--danger-color)}.stat-value.negative{color:var(--success-color)}.no-drivers-message{color:var(--text-secondary);font-style:italic;text-align:center;padding:20px}.additional-info-section{margin:24px 0;border-top:2px solid var(--border-color);padding-top:20px}.info-toggle{width:100%;display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--container-bg);border:2px solid var(--border-color);border-radius:8px;margin-bottom:8px;cursor:pointer;transition:all var(--transition-fast);font-size:.95rem;color:var(--text-primary)}.info-toggle:hover{background:var(--primary-light);border-color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-sm)}.info-toggle.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.info-toggle.active .toggle-arrow{transform:rotate(180deg)}.toggle-icon{font-size:1.2rem}.toggle-text{flex:1;font-weight:500}.toggle-arrow{font-size:.9rem;transition:transform var(--transition-fast)}.collapsible-content{border-radius:12px;margin-bottom:20px;overflow:hidden;transition:all var(--transition-medium)}.collapsible-content.show{display:block!important;animation:slideDown var(--transition-medium) ease-out}.clinical-recommendations{background:var(--card-bg);padding:20px;border-radius:12px;border:2px solid var(--border-color)}.clinical-recommendations h4{margin-top:0;color:var(--text-primary);display:flex;align-items:center;gap:8px}.clinical-recommendations ul{margin:16px 0 0;padding-left:20px}.clinical-recommendations li{margin:8px 0;color:var(--text-secondary);line-height:1.5}@keyframes pulse-glow{0%,to{opacity:1;box-shadow:0 0 5px currentColor}50%{opacity:.8;box-shadow:0 0 15px currentColor}}@keyframes slide-glow{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.risk-probability{flex-direction:column;gap:16px;text-align:center}.enhanced-drivers-grid{grid-template-columns:1fr}.drivers-chart{gap:8px}.enhanced-driver-item{padding:10px}.driver-info{flex-direction:column;align-items:flex-start;gap:6px;margin-bottom:6px}.summary-stats{flex-direction:column;gap:12px}.drivers-split-view{gap:8px}.drivers-column{padding:8px}.column-title{font-size:.7rem}.compact-driver-label{font-size:.65rem}.compact-driver-bar{height:16px}.compact-driver-value{font-size:.6rem}}.driver-value{position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:.75rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.critical-alert{background:linear-gradient(135deg,var(--danger-color),#ff1744);color:#fff;padding:20px;border-radius:12px;margin-bottom:20px;animation:criticalAlert 2s infinite;box-shadow:var(--shadow-lg)}@keyframes criticalAlert{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.critical-alert h4{margin:0 0 10px;display:flex;align-items:center;gap:10px}.alert-icon{font-size:1.5rem;animation:alertBlink 1s infinite}@keyframes alertBlink{0%,to{opacity:1}50%{opacity:.5}}.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease}.modal.show{display:flex;align-items:center;justify-content:center}.modal-content{background-color:var(--container-bg);padding:30px;border-radius:16px;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-lg);animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid var(--border-color)}.modal-close{font-size:1.5rem;cursor:pointer;background:none;border:none;color:var(--text-secondary);transition:color var(--transition-fast)}.modal-close:hover{color:var(--danger-color)}.fast-ed-modal{max-width:600px;max-height:80vh;transform:scale(.95)}.fast-ed-component{margin-bottom:24px;padding:20px;background:var(--card-bg);border-radius:12px;border:1px solid var(--border-color)}.fast-ed-component h3{margin:0 0 16px;font-size:1.1rem;color:var(--text-primary);font-weight:600}.radio-group{display:flex;flex-direction:column;gap:12px}.radio-option{display:flex;align-items:center;cursor:pointer;padding:12px 16px;background:var(--container-bg);border:2px solid var(--border-color);border-radius:8px;transition:all var(--transition-fast);min-height:48px}.radio-option:hover{background:var(--primary-light);border-color:var(--primary-color)}.radio-option input[type=radio]{margin-right:12px;transform:scale(1.2);accent-color:var(--primary-color)}.radio-option input[type=radio]:checked+.radio-label{font-weight:600;color:var(--primary-color)}.radio-option:has(input[type=radio]:checked){background:var(--primary-light);border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color)}.radio-label{font-size:.95rem;line-height:1.4;flex:1}.fast-ed-total{margin-top:30px;padding:24px;background:linear-gradient(135deg,var(--primary-light),var(--container-bg));border-radius:12px;border:2px solid var(--primary-color)}.score-display{text-align:center}.score-display h3{margin:0 0 16px;font-size:1.3rem;color:var(--text-primary)}.total-score{font-size:1.8rem;font-weight:700;color:var(--primary-color);text-shadow:0 1px 2px rgba(0,0,0,.1)}.risk-indicator{padding:12px 20px;border-radius:8px;font-weight:600;font-size:.95rem;text-transform:uppercase;letter-spacing:.5px}.risk-indicator.low{background:color-mix(in srgb,var(--risk-low) 12%,transparent);color:var(--risk-low);border:1px solid var(--risk-low)}.risk-indicator.high{background:color-mix(in srgb,var(--risk-high) 12%,transparent);color:var(--risk-high);border:1px solid var(--risk-high);animation:pulse 2s infinite}.risk-indicator.medium{background:color-mix(in srgb,var(--risk-medium) 12%,transparent);color:var(--risk-medium);border:1px solid var(--risk-medium)}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:20px 0 0;margin-top:20px;border-top:1px solid var(--border-color)}@keyframes pulse{0%,to{opacity:1}50%{opacity:.8}}.fast-ed-modal .button-group{display:flex;gap:12px;justify-content:flex-end;align-items:center;flex-wrap:nowrap}.fast-ed-modal .button-group button{width:120px!important;height:44px!important;flex-shrink:0;padding:12px 16px!important;font-weight:600;border-radius:10px;text-align:center;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-size:.9rem}.fast-ed-modal .button-group .secondary{margin-top:0!important}@media (min-width: 769px){.fast-ed-modal .button-group{flex-direction:row;justify-content:flex-end;gap:12px}.fast-ed-modal .button-group button{width:120px!important;padding:12px 24px!important}.fast-ed-modal .button-group .secondary{order:1}.fast-ed-modal .button-group .primary{order:2}}@media (max-width: 768px) and (min-width: 481px){.fast-ed-modal .button-group{flex-direction:row;justify-content:flex-end;gap:12px}.fast-ed-modal .button-group button{width:120px!important;height:44px!important;padding:12px 16px!important;font-size:.9rem;display:flex;align-items:center;justify-content:center}}@media (max-width: 768px){.fast-ed-modal{max-width:90vw;max-height:85vh;margin:20px auto;transform:scale(.9)}.fast-ed-component{padding:16px;margin-bottom:16px}.radio-option{padding:16px 12px;min-height:52px}.fast-ed-modal .button-group{flex-direction:column-reverse;gap:12px;justify-content:stretch}.fast-ed-modal .button-group button{width:100%!important;height:48px!important;min-width:unset;padding:16px 24px!important;font-size:1rem;display:flex;align-items:center;justify-content:center}}.disclaimer{background:var(--info-bg);color:var(--info-text);padding:15px;border-radius:8px;margin:20px 0;border-left:4px solid var(--warning-color);font-size:.9rem}.disclaimer strong{display:block;margin-bottom:5px}.bibliography-section{background:var(--container-bg);border:1px solid var(--border-color);border-radius:8px;padding:15px;margin:15px 0 0;font-size:.85rem}.bibliography-section h4{margin:0 0 10px;color:var(--text-primary);font-size:.9rem;font-weight:600}.citations{display:flex;flex-direction:column;gap:8px}.citation{display:flex;align-items:flex-start;gap:8px;line-height:1.4}.citation-number{color:var(--danger-color);font-weight:600;min-width:16px;font-size:.8rem}.citation-text{color:var(--text-secondary);flex:1}footer{text-align:center;padding:30px 20px;color:var(--text-secondary);font-size:.9rem}.footer-links{display:flex;justify-content:center;gap:20px;margin-top:10px}.footer-links a{color:var(--primary-color);text-decoration:none;transition:color var(--transition-fast)}.footer-links a:hover{color:var(--primary-hover);text-decoration:underline}@media (max-width: 768px){body{padding-top:46px}.app-header{padding:6px 12px;height:46px}#appContainer{min-height:calc(100vh - 126px)}.app-header h1{font-size:1.2rem}.app-subtitle{font-size:.6rem}#backButton,#homeButton{width:36px;height:36px;font-size:1rem}.header-left{gap:6px}.header-controls{gap:8px}.header-controls button{width:36px;height:36px;font-size:.9rem}.container{margin:16px;padding:20px;border-radius:12px}h2{font-size:1.5rem;margin-bottom:20px}h3{font-size:1.25rem;margin-bottom:16px}.triage-buttons{grid-template-columns:1fr;gap:16px;margin-top:24px}.triage-buttons button{padding:24px 20px;font-size:1rem}.input-grid{grid-template-columns:1fr;gap:16px}.input-group{margin-bottom:20px}input[type=number],input[type=text]{padding:14px 16px;font-size:16px;border-radius:8px}button.primary{padding:18px;font-size:1rem;border-radius:10px;min-height:48px}button.secondary{padding:16px;font-size:.9rem;min-height:44px}button.tertiary{padding:12px 16px;min-height:40px}.checkbox-wrapper{padding:4px 6px!important;margin:0!important;border-radius:6px;background:transparent!important;font-size:.75rem!important}.checkbox-wrapper input[type=checkbox]{width:20px;height:20px}.probability-display{font-size:2.2rem}.result-card{padding:16px;margin-bottom:16px}.drivers-grid{grid-template-columns:1fr;gap:12px}.results-actions{flex-direction:column;gap:16px;margin:30px 0 20px}.navigation-actions{order:-1}.navigation-actions button{max-width:none;flex:1}.stroke-center-card{padding:16px;margin-bottom:12px}.location-controls{flex-direction:column;gap:12px}.location-controls button{width:100%}}@media (max-width: 480px){.container{margin:8px;padding:12px}h2{font-size:1.375rem}.triage-buttons button{padding:20px 16px;font-size:.95rem}.probability-display{font-size:2rem}.modal-content{margin:10px;padding:16px;border-radius:8px}.modal-header h2{font-size:1.25rem}.modal-body{font-size:.9rem}}@media (max-width: 768px){input[type=checkbox]{width:20px;height:20px;margin-right:12px}.checkbox-wrapper{min-height:40px;display:flex!important;align-items:center;cursor:pointer;-webkit-tap-highlight-color:rgba(0,102,204,.2);padding:4px 6px!important;font-size:.75rem!important;line-height:1.2!important}.checkbox-wrapper:active{background:#0066cc1a}.checkbox-group{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))!important;gap:2px 4px!important;padding:8px!important}select,textarea,input[type=text],input[type=password],input[type=datetime],input[type=datetime-local],input[type=date],input[type=month],input[type=time],input[type=week],input[type=number],input[type=email],input[type=url],input[type=search],input[type=tel],input[type=color]{font-size:16px}.modal{padding:20px 10px 10px;display:flex;align-items:flex-start;justify-content:center}.modal-content{width:calc(100vw - 20px);max-width:none;max-height:calc(100vh - 40px);overflow-y:auto}body{padding-bottom:env(safe-area-inset-bottom)}.app-header{padding-top:max(8px,env(safe-area-inset-top));padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right))}.loading{padding:30px 20px;font-size:1rem}.install-prompt{position:fixed;bottom:20px;left:20px;right:20px;background:var(--container-bg);border:1px solid var(--primary-color);border-radius:12px;padding:16px;box-shadow:var(--shadow-lg);z-index:1000;display:none}.install-prompt.show{display:block;animation:slideUp .3s ease-out}.install-prompt button{width:100%;margin-top:12px}}@keyframes slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-height: 500px) and (orientation: landscape){body{padding-top:50px}.app-header{height:50px;padding:6px 16px}.app-header h1{font-size:1rem}.container{padding:12px}.triage-buttons{grid-template-columns:1fr 1fr;gap:12px}.triage-buttons button{padding:16px 12px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}*:focus-visible{outline:3px solid var(--primary-color);outline-offset:2px}@media print{body{padding-top:0}.app-header{position:static;box-shadow:none}.container{box-shadow:none;border:1px solid #000}button{display:none}.result-card{page-break-inside:avoid}}.skeleton{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.tooltip{position:relative;display:inline-block;cursor:help}.tooltip .tooltiptext{visibility:hidden;width:200px;background-color:var(--text-color);color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-100px;opacity:0;transition:opacity var(--transition-fast);font-size:.85rem}.tooltip:hover .tooltiptext{visibility:visible;opacity:1}.error-message{color:var(--danger-color);font-size:.85rem;margin-top:5px;display:flex;align-items:center;gap:5px}.error-icon{font-size:1rem}.stroke-center-section{margin-top:50px;padding-top:40px;border-top:2px solid var(--border-color)}.location-controls{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:30px;align-items:center}.location-manual{display:flex;gap:10px;align-items:center;flex:1;min-width:250px}.location-manual input{flex:1;min-width:200px}.stroke-center-results{min-height:100px}.location-info{background:var(--info-bg);color:var(--info-text);padding:15px;border-radius:8px;margin-bottom:25px;border-left:4px solid var(--info-border)}.recommended-centers,.alternative-centers{margin-bottom:30px}.recommended-centers h4,.alternative-centers h4{color:var(--text-color);margin-bottom:20px;font-size:1.2rem}.stroke-center-card{background:var(--container-bg);border:2px solid var(--border-color);border-radius:12px;padding:20px;margin-bottom:15px;transition:all var(--transition-fast);position:relative}.stroke-center-card.recommended{border-color:var(--success-color);background:linear-gradient(135deg,rgba(40,167,69,.05) 0%,var(--container-bg) 100%)}.stroke-center-card.alternative{border-color:var(--primary-color);background:linear-gradient(135deg,rgba(0,82,155,.05) 0%,var(--container-bg) 100%)}.stroke-center-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.center-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px;flex-wrap:wrap;gap:10px}.center-header h5{margin:0;color:var(--text-color);font-size:1.1rem;font-weight:600;flex:1;min-width:200px}.center-type{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:700;text-transform:uppercase;color:#fff}.center-type.comprehensive{background:var(--danger-color)}.center-type.primary{background:var(--primary-color)}.center-type.telemedicine{background:var(--warning-color);color:var(--text-color)}.distance{font-weight:700;color:var(--text-secondary);font-size:.9rem}.travel-time{display:flex;flex-direction:column;align-items:flex-end}.travel-time .time{font-weight:700;color:var(--primary-color);font-size:1.1rem}.travel-time .distance{font-size:.8rem;color:var(--text-secondary);font-weight:400;margin-top:2px}.center-details{margin-bottom:20px}.center-details p{margin:8px 0;font-size:.9rem}.address{color:var(--text-secondary)}.phone{color:var(--text-color);font-weight:500}.services{display:flex;flex-wrap:wrap;gap:8px;margin:15px 0}.service-badge{background:var(--input-bg);color:var(--text-color);padding:4px 8px;border-radius:6px;font-size:.75rem;border:1px solid var(--border-color)}.certification{color:var(--success-color);font-size:.85rem;font-weight:500;margin-top:10px}.center-actions{display:flex;gap:10px;flex-wrap:wrap}.call-button{background:var(--success-color);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);text-decoration:none}.call-button:hover{background:#1e7e34;transform:translateY(-1px)}.directions-button{background:var(--primary-color);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);text-decoration:none}.directions-button:hover{background:var(--primary-hover);transform:translateY(-1px)}.location-error{background:var(--critical-bg);color:var(--critical-text);padding:20px;border-radius:8px;text-align:center;border:1px solid var(--danger-color)}.loading{text-align:center;padding:20px;color:var(--text-secondary);font-style:italic}.distance-note,.travel-time-note{margin-top:30px;text-align:center;color:var(--text-secondary);font-style:italic}.powered-by{opacity:.7;font-size:.85em;color:var(--text-secondary);display:inline-block;margin-top:5px}.alternative-diagnosis-card{background:linear-gradient(135deg,var(--light-bg) 0%,var(--container-bg) 100%);border:2px solid var(--warning-color);border-radius:16px;padding:20px;margin:24px 0;box-shadow:0 4px 12px #ff98001a;transition:var(--transition-fast)}.alternative-diagnosis-card:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff980026}.diagnosis-header{display:flex;align-items:center;gap:12px;margin-bottom:16px}.lightning-icon{font-size:1.8rem;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.diagnosis-header h3{color:var(--text-primary);font-size:1.2rem;font-weight:600;margin:0}.diagnosis-content{padding-left:12px}.diagnosis-list{list-style:none;padding:0;margin:0}.diagnosis-list li{color:var(--text-secondary);font-size:1rem;line-height:1.6;border-left:3px solid var(--warning-color);padding:8px 0 8px 16px;margin-bottom:8px}.diagnosis-list li:last-child{margin-bottom:0}.clinical-action-heading{font-size:1rem;font-weight:600;color:var(--primary-color);margin:0 0 16px;padding:8px 12px;background:linear-gradient(135deg,rgba(0,102,204,.1) 0%,transparent 100%);border-left:3px solid var(--primary-color);border-radius:6px}.dark-mode .alternative-diagnosis-card{background:linear-gradient(135deg,rgba(255,152,0,.05) 0%,var(--container-bg) 100%);border-color:#ff980080}.prerequisites-modal{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);background:#0006;display:flex!important;align-items:center!important;justify-content:center!important;padding:20px;box-sizing:border-box}.prerequisites-modal .modal-content{max-width:600px;width:90%;max-height:85vh;background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px #0000001a,0 0 80px #0066cc0d;margin:0;overflow-y:auto;display:flex;flex-direction:column}.dark-mode .prerequisites-modal .modal-content{background:#1e1e1ef2;border:1px solid rgba(255,255,255,.1);box-shadow:0 8px 32px #0000004d,0 0 80px #0066cc14}.prerequisites-content{padding:0}.prerequisites-modal .modal-header{padding:28px 32px;background:linear-gradient(135deg,rgba(0,102,204,.05) 0%,transparent 100%);border-bottom:1px solid rgba(0,102,204,.1)}.prerequisites-modal .modal-header h2{font-size:1.4rem;font-weight:600;letter-spacing:-.02em}.prerequisites-modal .modal-body{padding:32px;flex:1;display:flex;flex-direction:column;justify-content:center}.prerequisites-intro{color:var(--text-secondary);margin-bottom:32px;font-size:1.05rem;line-height:1.6;text-align:center;padding:0 16px}.prerequisites-list{display:flex;flex-direction:column;gap:16px;margin-bottom:28px}.prerequisite-item{display:flex;align-items:center;gap:20px;padding:18px 20px;background:#fff9;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(0,102,204,.1);transition:all .3s ease;cursor:pointer}.dark-mode .prerequisite-item{background:#ffffff08;border:1px solid rgba(255,255,255,.08)}.prerequisite-item:hover{background:#ffffffe6;border-color:#0066cc4d;transform:translateY(-2px);box-shadow:0 8px 24px #0066cc1a}.dark-mode .prerequisite-item:hover{background:#ffffff0f;border-color:#06c6}.prerequisite-label{flex:1;color:var(--text-primary);font-size:1rem;line-height:1.5;font-weight:500;padding-right:12px}.toggle-switch{position:relative;display:inline-block;width:51px;height:31px;flex-shrink:0}.toggle-input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.3s;border-radius:31px;box-shadow:inset 0 2px 4px #0000001a}.toggle-slider:before{position:absolute;content:"";height:27px;width:27px;left:2px;bottom:2px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-input:checked+.toggle-slider{background-color:#4cd964;background:linear-gradient(to right,#4cd964,#5ac971)}.toggle-input:focus+.toggle-slider{box-shadow:0 0 0 3px #4cd9644d}.toggle-input:checked+.toggle-slider:before{transform:translate(20px)}.toggle-input:disabled+.toggle-slider{opacity:.5;cursor:not-allowed}.prerequisites-warning{display:flex;align-items:center;gap:12px;padding:14px 18px;background:#ff980014;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,152,0,.3);border-radius:12px;margin-top:20px}.warning-icon{font-size:1.3rem;flex-shrink:0}.warning-text{color:var(--text-primary);font-size:.95rem;font-weight:500}.prerequisites-modal .modal-footer{padding:24px 20px;background:linear-gradient(135deg,transparent 0%,rgba(0,102,204,.03) 100%);border-top:1px solid rgba(0,102,204,.08);flex-shrink:0;margin-top:auto;display:flex;justify-content:flex-end}.prerequisites-modal .button-group{display:flex;gap:12px;justify-content:flex-end;align-items:center;flex-wrap:nowrap}.prerequisites-modal .button-group button{width:120px!important;height:44px!important;flex-shrink:0;padding:12px 16px!important;font-weight:600;border-radius:10px;text-align:center;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-size:.9rem}.prerequisites-modal .button-group .secondary{margin-top:0!important}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.shake{animation:shake .5s ease-in-out}.dark-mode .toggle-slider{background-color:#39393d}.dark-mode .toggle-input:checked+.toggle-slider{background:linear-gradient(to right,#4cd964,#5ac971)}.dark-mode .prerequisite-item{background:#ffffff0d;border-color:#ffffff1a}.dark-mode .prerequisite-item:hover{background:#ffffff14;border-color:var(--primary-color)}@media (min-width: 769px){.prerequisites-modal .modal-content{max-width:550px;width:60%;min-width:400px;max-height:80vh}.prerequisites-modal .button-group{flex-direction:row;justify-content:flex-end;gap:12px}.prerequisites-modal .button-group button{width:auto!important;height:44px!important;min-width:120px;padding:12px 24px!important;display:flex;align-items:center;justify-content:center}.prerequisites-modal .button-group .secondary{order:1}.prerequisites-modal .button-group .primary{order:2}}@media (max-width: 768px) and (min-width: 481px){.prerequisites-modal{padding:16px}.prerequisites-modal .modal-content{max-width:520px;width:92%;max-height:90vh}.prerequisites-modal .modal-header{padding:24px 28px}.prerequisites-modal .modal-body{padding:28px}.prerequisite-item{padding:16px 18px;gap:18px}.prerequisite-label{font-size:.98rem}.prerequisites-modal .button-group{flex-direction:row;justify-content:flex-end;gap:12px}.prerequisites-modal .button-group button{width:120px!important;height:44px!important;padding:12px 16px!important;font-size:.9rem;display:flex;align-items:center;justify-content:center}}@media (max-width: 480px){.prerequisites-modal{padding:12px}.prerequisites-modal .modal-content{width:94%;max-width:none;margin:0;border-radius:20px;max-height:92vh}.prerequisites-modal .modal-header{padding:20px 24px}.prerequisites-modal .modal-header h2{font-size:1.2rem}.prerequisites-modal .modal-body{padding:24px 20px}.prerequisites-intro{font-size:.95rem;margin-bottom:24px;padding:0 8px}.prerequisites-list{gap:12px}.prerequisite-item{padding:14px 16px;gap:14px;border-radius:14px}.prerequisite-label{font-size:.9rem;line-height:1.4;padding-right:8px}.toggle-switch{width:46px;height:28px}.toggle-slider:before{height:24px;width:24px}.toggle-input:checked+.toggle-slider:before{transform:translate(18px)}.prerequisites-modal .modal-footer{padding:20px 24px}.prerequisites-modal .button-group{flex-direction:column-reverse;gap:12px;justify-content:stretch}.prerequisites-modal .button-group button{width:100%!important;height:48px!important;min-width:unset;padding:16px 24px!important;font-size:1rem;display:flex;align-items:center;justify-content:center}.prerequisites-warning{padding:12px 14px;gap:10px}.warning-text{font-size:.88rem}}.input-summary{background:var(--container-bg);border:1px solid var(--border-color);border-radius:12px;padding:24px;margin:30px 0;box-shadow:var(--shadow-sm);transition:var(--transition-fast)}.input-summary:hover{box-shadow:var(--shadow-md)}.input-summary h3{color:var(--text-color);margin-bottom:8px;font-size:1.1rem;font-weight:600}.summary-subtitle{color:var(--text-secondary);font-size:.9rem;margin-bottom:20px;font-style:italic}.summary-content{display:grid;gap:20px}.summary-module{border-left:3px solid var(--primary-color);padding-left:16px}.summary-module h4{color:var(--primary-color);font-size:1rem;font-weight:500;margin-bottom:12px}.summary-items{display:grid;gap:8px}.summary-item{display:flex;justify-content:space-between;align-items:center;padding:6px 12px;background:var(--input-bg);border-radius:6px;font-size:.9rem}.summary-label{color:var(--text-color);font-weight:500}.summary-value{color:var(--text-secondary);font-weight:400}.summary-value:has-text("âœ“"){color:var(--success-color)}.summary-value:has-text("âœ—"){color:var(--text-secondary);opacity:.6}.risk-results-single{max-width:600px;margin:20px auto}.risk-results-dual{display:grid;grid-template-columns:repeat(2,minmax(300px,1fr));gap:20px;max-width:1200px;margin:20px auto;align-items:stretch}.risk-results-dual .enhanced-risk-card{display:flex;flex-direction:column}.risk-results-triple{display:flex;gap:15px;max-width:1200px;margin:20px auto;flex-wrap:wrap}.risk-results-triple .enhanced-risk-card{flex:1;min-width:250px}@media (max-width: 768px){.risk-results-dual{display:grid;grid-template-columns:1fr;max-width:100%;gap:10px;margin:15px auto}.risk-results-dual .enhanced-risk-card{min-width:unset;padding:12px}.risk-results-dual .probability-circle,.risk-results-dual .probability-ring{width:80px;height:80px}.risk-results-dual .circle-label{font-size:12px;margin-top:8px}.risk-results-dual .risk-title h3{font-size:16px}.risk-results-dual .risk-subtitle{font-size:11px}.risk-results-triple{flex-direction:row;max-width:100%;gap:8px;margin:15px auto}.risk-results-triple .enhanced-risk-card{min-width:unset;flex:1;padding:10px}.risk-results-triple .probability-circle,.risk-results-triple .probability-ring{width:70px;height:70px}.risk-results-triple .circle-label{font-size:11px;margin-top:6px}.risk-results-triple .risk-title h3{font-size:14px}.risk-results-triple .risk-subtitle{font-size:10px}}.volume-display-section{display:flex;justify-content:center;margin:20px auto;max-width:200px}.volume-centered{display:flex;flex-direction:column;align-items:center}.secondary-notification{margin-top:15px;padding:12px 16px;background:var(--info-bg);border-left:4px solid var(--warning-color);border-radius:8px}.lvo-possible{margin:0;font-size:.95rem;color:var(--text-secondary);font-style:italic;line-height:1.4}.results-actions{margin:40px 0 30px;display:flex;flex-direction:column;gap:20px}.primary-actions{display:flex;flex-direction:column;gap:10px}.navigation-actions{display:flex;justify-content:space-between;gap:15px}.navigation-actions button{flex:1;max-width:150px}@media (min-width: 768px){.results-actions{flex-direction:row;justify-content:space-between;align-items:flex-start}.primary-actions{flex:1;max-width:300px}.navigation-actions{flex:0 0 auto;justify-content:flex-end}}#languageToggle{position:relative}#languageToggle:after{content:attr(data-lang);position:absolute;bottom:-20px;left:50%;transform:translate(-50%);font-size:.7rem;color:#fffc;pointer-events:none}.research-toggle-container{position:fixed;bottom:20px;right:20px;z-index:999}.research-toggle{background:#0066cc1a;border:1px solid rgba(0,102,204,.3);color:var(--primary-color);font-size:.7rem;padding:6px 10px;border-radius:20px;cursor:pointer;transition:all var(--transition-fast);font-weight:500;opacity:.7;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.research-toggle:hover{background:#06c3;opacity:1;transform:scale(1.05)}.research-panel{background:var(--container-bg);border:2px solid var(--primary-color);border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 4px 20px #0066cc1a;animation:slideIn .3s ease}.research-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.research-header h4{margin:0;color:var(--primary-color);font-size:1.1rem;font-weight:600}.close-research{background:none;border:none;font-size:1.5rem;color:var(--text-secondary);cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all var(--transition-fast)}.close-research:hover{background:var(--danger-color);color:#fff}.model-comparison{margin-bottom:20px}.probability-comparison{margin-bottom:25px}.bar-group{margin-bottom:16px}.bar-label{display:block;font-size:.85rem;font-weight:500;color:var(--text-color);margin-bottom:6px}.probability-bar{width:100%;height:28px;background:#0000001a;border-radius:14px;overflow:hidden;position:relative}.bar-fill{height:100%;display:flex;align-items:center;justify-content:flex-end;padding-right:12px;transition:width 1s ease;border-radius:14px;position:relative}.bar-fill.main-model{background:linear-gradient(90deg,var(--primary-color),#4dabf7)}.bar-fill.legacy-model{background:linear-gradient(90deg,var(--warning-color),#ffb74d)}.bar-value{color:#fff;font-size:.85rem;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.3)}.difference-analysis{background:var(--input-bg);padding:16px;border-radius:8px;border:1px solid var(--border-color);margin-bottom:20px}.difference-metric,.agreement-level{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.metric-label{font-size:.9rem;color:var(--text-secondary);font-weight:500}.metric-value{font-size:1rem;font-weight:600}.metric-value.higher{color:var(--success-color)}.metric-value.lower{color:var(--danger-color)}.agreement-badge{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase}.agreement-badge.strong{background:var(--success-light);color:var(--success-color)}.agreement-badge.moderate{background:var(--warning-light);color:var(--warning-color)}.agreement-badge.weak{background:var(--info-bg);color:var(--info-text)}.agreement-badge.poor{background:var(--critical-bg);color:var(--critical-text)}.interpretation{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.interpretation-text{font-size:.9rem;color:var(--text-color);font-weight:500;margin:0 0 6px}.interpretation-detail{font-size:.8rem;color:var(--text-secondary);font-style:italic;line-height:1.4}.calculation-details{background:var(--container-bg);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:20px}.calculation-details h5{margin:0 0 12px;font-size:.95rem;color:var(--text-color);font-weight:600}.calculation-steps{display:flex;flex-direction:column;gap:8px}.step{font-size:.85rem;color:var(--text-secondary);line-height:1.4}.step strong{color:var(--text-color)}.model-metrics{background:var(--input-bg);padding:16px;border-radius:8px;border:1px solid var(--border-color);margin-bottom:20px}.model-metrics h5{margin:0 0 16px;font-size:.95rem;color:var(--text-color);font-weight:600}.metrics-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.metric-item{display:flex;flex-direction:column;text-align:center;gap:4px}.metric-name{font-size:.75rem;color:var(--text-secondary);font-weight:500;text-transform:uppercase}.metric-value{font-size:.85rem;color:var(--text-color);font-weight:600}.research-actions{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:20px}.research-btn{background:var(--primary-color);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:6px}.research-btn:hover{background:var(--primary-hover);transform:translateY(-1px)}.research-btn.danger{background:var(--danger-color)}.research-btn.danger:hover{background:var(--danger-hover)}.research-disclaimer{background:#ff6b6b1a;border:1px solid rgba(255,107,107,.3);border-radius:8px;padding:12px;text-align:center}.research-disclaimer small{color:var(--text-secondary);line-height:1.4}.research-disclaimer strong{color:var(--danger-color)}.research-error{background:var(--critical-bg);border:1px solid var(--danger-color);border-radius:8px;padding:16px;text-align:center}.research-error p{color:var(--danger-color);font-weight:500;margin:0 0 8px}.research-error small{color:var(--text-secondary);font-family:monospace;font-size:.75rem}.research-activation-toast{position:fixed;top:70px;right:20px;background:var(--container-bg);border:2px solid var(--primary-color);border-radius:8px;padding:12px 16px;box-shadow:var(--shadow-md);z-index:1001;animation:slideInRight .3s ease}.toast-content{color:var(--text-color);font-size:.85rem;line-height:1.3}.toast-content strong{color:var(--primary-color)}@keyframes slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.research-toggle-container{bottom:10px;right:10px}.research-panel{margin:10px;padding:16px}.metrics-grid{grid-template-columns:1fr;gap:8px}.research-actions{flex-direction:column;gap:8px}.research-btn{width:100%;justify-content:center}.research-activation-toast{top:56px;right:10px;left:10px}}@media (max-width: 768px) and (min-width: 481px){.circles-container{gap:30px;justify-content:center;align-items:center}.rings-row{gap:30px;justify-content:center;align-items:center;flex-wrap:nowrap}.circle-item{align-items:center;flex:0 0 auto}.probability-circle,.volume-circle{width:110px;height:110px;position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0}.probability-ring,.volume-canvas{width:110px!important;height:110px!important;position:absolute;top:0;left:0}.probability-number,.volume-number{font-size:1.8rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10}}@media (max-width: 480px){.circles-container{gap:16px;align-items:center}.rings-row{gap:20px;justify-content:center;align-items:flex-start;flex-wrap:nowrap;width:100%;padding:0 10px}.circle-item{gap:8px;align-items:center;flex:0 0 auto;width:auto}.probability-circle,.volume-circle{position:relative;width:100px;height:100px;display:flex;align-items:center;justify-content:center}.probability-ring{width:100px!important;height:100px!important;position:absolute;top:0;left:0}.volume-canvas{width:100px!important;height:100px!important;display:block;position:relative}.probability-number,.volume-number{font-size:1.5rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10}.circle-label{font-size:.8rem;text-align:center;white-space:nowrap}.risk-level{font-size:.85rem;padding:6px 12px;text-align:center;white-space:nowrap;margin-top:8px}}@media (max-width: 480px) and (min-resolution: 2dppx),(max-width: 480px) and (max-height: 1000px) and (min-height: 800px),(max-width: 430px) and (min-aspect-ratio: 19/9){.circles-container{gap:12px;align-items:center}.rings-row{gap:18px;justify-content:center;align-items:flex-start;flex-wrap:nowrap;width:100%;margin:0 auto;padding:0 5px;box-sizing:border-box}.circle-item{display:flex;flex-direction:column;align-items:center;gap:8px;flex:0 0 auto;width:auto;min-width:0;position:relative}.probability-circle,.volume-circle{position:relative;width:90px;height:90px;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin:0}.probability-ring{width:90px!important;height:90px!important;position:absolute;top:0;left:0}.volume-canvas{width:90px!important;height:90px!important;display:block;position:relative}.probability-number,.volume-number{font-size:1.3rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:15;font-weight:700;text-align:center;line-height:1}.circle-label{font-size:.75rem;text-align:center;white-space:nowrap;font-weight:600;margin-top:4px}.risk-level{font-size:.75rem;padding:5px 10px;text-align:center;white-space:nowrap;margin-top:12px;border-radius:6px}}@media (max-width: 375px){.circles-container{gap:12px;align-items:center}.rings-row{gap:15px;justify-content:center;align-items:center}.probability-circle,.volume-circle{position:relative;width:80px;height:80px;display:flex;align-items:center;justify-content:center}.probability-ring{width:80px!important;height:80px!important;position:absolute;top:0;left:0}.volume-canvas{width:80px!important;height:80px!important;display:block;position:relative}.probability-number,.volume-number{font-size:1.2rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10}.circle-label{font-size:.75rem;text-align:center;white-space:nowrap}.risk-level{font-size:.8rem;padding:4px 10px;text-align:center;white-space:nowrap;margin-top:10px}}@media (max-width: 480px){.header-controls{gap:8px}.header-controls button{width:36px;height:36px;font-size:1.2rem;padding:0;display:flex;align-items:center;justify-content:center}#languageToggle{font-size:1rem}}@media (max-width: 375px){.header-controls{gap:6px}.header-controls button{width:32px;height:32px;font-size:1.1rem}#languageToggle{font-size:.9rem}.container{margin:6px;padding:10px}.enhanced-risk-card{padding:16px}.risk-header h3{font-size:1.1rem}.input-group label{font-size:.9rem}.primary,.secondary{padding:10px 16px;font-size:.9rem}.risk-results-triple{flex-direction:row;max-width:100%;gap:6px;margin:15px auto}.risk-results-triple .enhanced-risk-card{min-width:unset;flex:1;padding:8px}.risk-results-triple .probability-circle,.risk-results-triple .probability-ring{width:60px;height:60px}.risk-results-triple .circle-label{font-size:9px;margin-top:4px}.risk-results-triple .risk-title h3{font-size:12px}.risk-results-triple .risk-subtitle{font-size:9px}}.tachometer-section{margin:16px auto;max-width:760px}.tachometer-card{background:transparent;border-radius:12px;padding:16px;border:1px solid var(--border-color);box-shadow:var(--shadow-sm)}.tachometer-header{text-align:center;margin-bottom:20px}.tachometer-header h3{margin:0 0 8px;color:var(--text-primary);font-size:1.1rem}.ratio-display{font-size:.9rem;color:var(--text-secondary);font-weight:500}.tachometer-gauge{display:flex;justify-content:center;margin:12px 0}#tachometerCanvas{border-radius:8px;width:100%;height:280px;display:block}#premium-diagnostic-gauge{border-radius:8px;width:100%;height:clamp(200px,40vw,280px);display:block;min-height:180px;background:transparent}.gauge-canvas{width:100%;height:clamp(200px,40vw,280px);display:block;border-radius:8px;min-height:180px}.tachometer-legend{display:flex;gap:10px;justify-content:center;align-items:center;margin-top:8px}.legend-chip{padding:6px 10px;border-radius:999px;font-size:.75rem;font-weight:600;letter-spacing:.5px;border:1px solid rgba(255,255,255,.25);background:#ffffff0a}.legend-chip.ich{color:#ff6464;border-color:#ff646480}.legend-chip.balanced{color:gold;border-color:#ffd70080}.legend-chip.lvo{color:#00d4ff;border-color:#00d4ff80}.metrics-row{display:flex;gap:12px;margin:12px auto 0;max-width:420px;justify-content:center}.metric-card{flex:1;min-width:110px;background:#ffffff08;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px;text-align:center}.metric-label{font-size:.7rem;text-transform:uppercase;color:var(--text-secondary);letter-spacing:.06em;margin-bottom:6px}.metric-value{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:1.25rem;font-weight:600;color:var(--text-primary);margin-bottom:4px;font-variant-numeric:tabular-nums}.metric-unit{font-size:.75rem;color:var(--text-secondary)}@media (max-width: 480px){.metrics-row{gap:8px;max-width:100%;padding:0 8px}.metric-card{padding:10px}.metric-value{font-size:1.1rem}}.treatment-recommendation{display:flex;align-items:center;gap:15px;padding:15px;border-radius:12px;margin-top:15px}.treatment-recommendation.critical{background:linear-gradient(135deg,#ff00401a,#ff99001a);border:2px solid var(--critical-color)}.treatment-recommendation.lvo-dominant{background:linear-gradient(135deg,#00d4ff1a,#007aff1a);border:2px solid var(--info-color)}.treatment-recommendation.ich-dominant{background:linear-gradient(135deg,#ff00401a,#dc143c1a);border:2px solid var(--critical-color)}.treatment-recommendation.moderate{background:linear-gradient(135deg,#ffd7001a,#ffa5001a);border:2px solid var(--warning-color)}.recommendation-icon{font-size:2rem;flex-shrink:0}.recommendation-text h4{margin:0 0 5px;font-size:1.1rem;font-weight:700;color:var(--text-primary)}.recommendation-text p{margin:0 0 8px;font-size:.9rem;color:var(--text-secondary);line-height:1.4}.probability-summary{font-size:.85rem;color:var(--text-secondary);font-weight:500}@media (min-width: 481px) and (max-width: 768px){#tachometerCanvas{width:100%;height:220px}.gauge-canvas{height:220px}}@media (max-width: 480px){.tachometer-card{padding:15px;margin:15px 10px}#tachometerCanvas{width:100%;height:150px}.gauge-canvas,#premium-diagnostic-gauge{height:150px}.treatment-recommendation{flex-direction:column;text-align:center;gap:10px}.recommendation-icon{font-size:1.5rem}.recommendation-text h4{font-size:1rem}.recommendation-text p{font-size:.85rem}}
